{{ 'component-article-card.css' | asset_url | stylesheet_tag }}
{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'section-main-blog.css' | asset_url | stylesheet_tag }}

{%- style -%}
  /* .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  } */

  .article-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 2rem;
  }

  .article-item__image-wrapper {
    width: 200px;
    height: 200px;
  }
  .article-item__image {
    object-fit: cover;
  }

  .article-item__content {
    margin-top: 1rem;
    text-align: ; justify;
    width: 90%;
  }

  .article-item__excerpt {
  text-overflow: ellipsis;
  white-space: wrap;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  }

  .blogs_button {
    /* width: "100%"; */
    /* border: 1px solid red; */
    align-self: center;
    /* padding: 10px 20px; */
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    /* margin: 40px 2px; */
    cursor: pointer;
    background-color: black;
    color: white;
  }

  .blogs_button > a {
    /* background-color: white; */
    color: white;
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    font-size: 1.5rem;
    letter-spacing: 0.1rem;
    /* border: 1px solid black; */
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
    .article-item {
      flex-direction: row;
      text-align: left;
      width: 100%;
      flex: 1;
    }
    .article-item__image-wrapper {
      width: 200px;
      height: 200px;
      margin-right: 3rem;
    }
    .article-item__content {
      margin-top: 0;
    }
  }
{%- endstyle -%}

{% if blogs %}
  {% assign mens_articles = blogs['mens-fashion'].articles %}
  {% assign womens_articles = blogs['womens-fashion'].articles %}
  {% assign news_articles = blogs.news.articles %}

  {% assign all_articles = mens_articles | concat: womens_articles | concat: news_articles %}

  {% comment %} {%- paginate all_articles by 10 -%} {% endcomment %}
  <div class="main-blog page-width section-{{ section.id }}-padding">
    <h1 class="title--primary">All Blog Posts</h1>

    <div class="blog-articles">
      {% if page.handle != 'blogs' %}
        {% assign all_articles = all_articles | slice: 0, 3 %}
      {% endif %}
      {% for article in all_articles %}
        {% if article %}
          <div class="article-item">
            <div class="article-item__image-wrapper">
              {% if article.image %}
                <img
                  src="{{ article.image | image_url: width: 400 }}"
                  alt="{{ article.image.alt | escape }}"
                  class="article-item__image"
                  loading="lazy"
                  width="100%"
                  height="100%"
                >
              {% endif %}
            </div>
            <div class="article-item__content">
              <h2 class="article-item__title">
                <a href="{{ article.url }}">{{ article.title }}</a>
              </h2>
              <p class="article-item__excerpt">
                {{ article.excerpt | strip_html | truncate: 120 }}
              </p>
              <span>{{ article.published_at | date: '%B %d, %Y' }}</span>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    {% comment %}
      {% if paginate.pages > 1 %}
        {% render 'pagination', paginate: paginate %}
      {% endif %}
    {% endcomment %}
    {% unless page.handle == 'blogs' %}
      <button
        class="blogs_button"
        type="button"
        style="color: white; border: none; padding: 10px 20px; text-align: center; text-decoration: none; display: block; margin: 40px auto; font-size: 16px; cursor: pointer; align-items: center; "
      >
        <a href="/pages/blogs" style="text-decoration: none;"> See All</a>
      </button>
    {% endunless %}
  </div>

  {% comment %}
  {% endcomment %}
{% endif %}
